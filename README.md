# Приложение прогноза погоды

Это веб-приложение на основе Django, которое предоставляет прогнозы погоды для городов по всему миру. Оно использует API OpenWeatherMap для данных о городах и API Open-Meteo для прогнозов погоды.

## Функции

- Автозаполнение названий городов
- Отображение прогноза погоды
- История поиска пользователя
- Персонализированный опыт для возвращающихся пользователей
- Статистика поиска городов
- API-эндпоинт для статистики поиска городов

## Используемые технологии

- Django 4.2+
- HTMX
- Bootstrap
- API OpenWeatherMap
- API Open-Meteo
- Docker
- Swagger (drf-yasg) для документации API

## Настройка и установка

1. Клонируйте репозиторий:
   `git clone https://github.com/ulugkhujayev/weather-forecast.git`

   `cd weather-forecast`

2. Создайте файл `.env` в корне проекта и добавьте следующие переменные:
   `SECRET_KEY=secret_key`
   `DEBUG=True`
   `ALLOWED_HOSTS=localhost,127.0.0.1`
   `OPENWEATHERMAP_API_KEY=api_key`

3. Соберите и запустите Docker-контейнер:
   `docker-compose up --build`

4. Приложение должно быть доступно по адресу `http://localhost:8000`

## Документация API

Документация API доступна через Swagger UI и ReDoc:

- Swagger UI: `http://localhost:8000/swagger/`
- ReDoc: `http://localhost:8000/redoc/`

## Использование

1. Введите название города в поле поиска. По мере ввода вы увидите предложения автозаполнения.
2. Выберите город из предложений или закончите ввод названия города.
3. Нажмите "Получить прогноз погоды", чтобы увидеть прогноз.
4. Ваша история поиска будет отображаться под прогнозом.

## API-эндпоинты

- `/api/stats/`: Получить статистику по поискам городов

## Тестирование

Запустите тесты с помощью следующей команды:
`docker-compose run web python manage.py test`
